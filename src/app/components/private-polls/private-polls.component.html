<div class="private-polls-container" *ngIf="t$ | async as t">
  <div class="list-header">
    <h1 class="list-title">{{ t.title }}</h1>
    <a routerLink="/create" class="create-button">{{ t.create }}</a>
  </div>

  <div *ngIf="loading" class="loading-container">
    <div class="loading-spinner"></div>
  </div>

  <div *ngIf="error" class="error-message">
    {{ error }}
  </div>

  <ng-container *ngIf="!loading && !error">
    <div *ngIf="polls.length === 0" class="empty-state">
      <p class="empty-message">{{ t.emptyTitle }}</p>
      <p>{{ t.emptyDesc }}</p>
      <a routerLink="/create" class="primary-button">
        {{ t.emptyCta }}
      </a>
    </div>

    <div class="add-private-link-form">
      <label for="privateLink" class="form-label">{{ t.addLabel }}</label>
      <div class="input-group">
        <input
          type="text"
          id="privateLink"
          [formControl]="linkControl"
          [placeholder]="t.addPlaceholder"
          class="form-input"
        />
        <button (click)="addPrivatePollByLink()" class="add-button">{{ t.addButton }}</button>
      </div>
      <div *ngIf="addingError" class="error-message">
        {{ addingError }}
      </div>
    </div>

    <div *ngIf="polls.length > 0" class="polls-grid">
      <div *ngFor="let poll of polls" class="poll-card">
        <div class="poll-content">
          <div class="poll-info">
            <h2 class="poll-title">
              <a [routerLink]="['/poll', poll.id]">{{ poll.title }}</a>
            </h2>
            <p class="poll-description">{{ poll.description }}</p>
            <p class="poll-meta">
              {{ t.created }} {{ poll.createdAt | date : "medium" }}
            </p>
          </div>
          <div class="poll-stats">
            <span class="vote-count">{{ poll.totalVotes || 0 }} {{ t.votes }}</span>
            <span class="private-badge">{{ t.private }}</span>
          </div>
        </div>
        <div class="poll-actions">
          <a [routerLink]="['/poll', poll.id]" class="action-link">{{ t.vote }}</a>
          <a [routerLink]="['/poll', poll.id, 'results']" class="action-link">{{ t.results }}</a>
          <button (click)="copyPollLink(poll.id)" class="action-link copy-link">{{ t.copy }}</button>
          <button (click)="deletePoll(poll.id)" class="action-link delete-link">{{ t.remove }}</button>
        </div>
      </div>
    </div>
  </ng-container>
</div>
